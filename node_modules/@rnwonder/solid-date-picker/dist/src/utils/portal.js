import { onCleanup as R } from "solid-js";
function y(m, s) {
  const r = (o) => {
    var t;
    return !m.contains(o.target) && ((t = s(o)) == null ? void 0 : t(o));
  };
  document.body.addEventListener("click", r), R(() => document.body.removeEventListener("click", r));
}
const C = ({ inputRef: m, dropDownRef: s, positionX: r, positionY: o }) => {
  var x, k, v;
  const t = (x = m()) == null ? void 0 : x.getBoundingClientRect(), e = (k = s()) == null ? void 0 : k.offsetHeight, i = (v = s()) == null ? void 0 : v.offsetWidth, n = window.innerHeight - (t == null ? void 0 : t.bottom), d = t == null ? void 0 : t.top, u = t == null ? void 0 : t.left, D = window.innerWidth - (t == null ? void 0 : t.right), g = window.innerWidth;
  let p, w;
  const h = o === "top" || o === "bottom", a = (t == null ? void 0 : t.top) - e - 10 + "px", b = `${t == null ? void 0 : t.bottom}px`;
  o === "top" && (p = a), o === "bottom" && (p = b), n > e && !h ? p = b : (d > e && !h || n < e && o === "bottom" && d > e) && (p = a), (n > e || d > e || h) && (o !== "top" || d > e) && (o !== "bottom" || n > e || d > e) || (p = "0px");
  let c = 0;
  if (r === "left")
    c = u >= i ? u - i : 0;
  else if (r === "right")
    c = D >= i ? t == null ? void 0 : t.right : g - i;
  else {
    const f = (t == null ? void 0 : t.left) + (t == null ? void 0 : t.width) / 2, l = i / 2;
    c = f - l >= 0 && f + l <= g ? f - l : f - l < 0 ? 0 : g - i;
  }
  return w = `${c}px`, { top: p, left: w };
};
export {
  y as clickOutsideSJ,
  C as upgradedSmartDropDown
};
