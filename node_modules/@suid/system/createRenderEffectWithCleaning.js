import { createRenderEffect, onCleanup } from "solid-js";
function createRenderEffectWithCleaning(effect) {
    let lastCleanup;
    onCleanup(() => lastCleanup?.());
    createRenderEffect((prevCleanup) => {
        if (prevCleanup) {
            lastCleanup = undefined;
            prevCleanup?.();
        }
        return (lastCleanup = effect());
    });
}
export default createRenderEffectWithCleaning;
